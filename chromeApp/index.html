<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" media="all" href="./css/bootstrap.css">
</head>
<body ng-app="app" >
  <!-- these are the error and loading screens -->
  <div id="loading" class="message screen">
    <img id="loadingGif" src="./img/loading.gif" ng-cloak/>
    <h1 id="loadingText">loading ...</h1>
  </div>

<!--   <div id="loadingLong" class="message screen hidden" ng-cloak>
    <img id="loadingGifLong" src="./img/loading.gif" ng-cloak/>
    <h1 id="loadingText">loading ...</h1>
  </div> -->
  <div id="error" class="message hidden screen">
    <h1>error!</h1>
    <p>quit and reopen to try again</p>
  </div>

  <!-- this is the game selection screen -->
  <div class="gameSelection hidden screen" ng-hide="gameSelection.hidden" id="gameSelection" ng-controller="gameSelection">



    <!-- right side -->
    <div class="availableGames" id="availableGames">
      <h1 class='needAGame'>Need a Game?</h1>
      <div class="btn-group" data-ng-class="{open: open}" ng-cloak>
        <button class="btn dropdown-toggle" data-ng-click="open=!open" id='filterButton'>
          <span class='filterText' >Filter</span>
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
          <li>
            <a data-ng-click="checkAll()">
              <i class="icon-ok-sign"></i>
              Check All
            </a>
          </li>
          <li>
            <a data-ng-click="selectedConsole=[];">
              <i class="icon-remove-sign"></i>
              Uncheck All
            </a>
          </li>
          <li class="divider"></li>
          <li data-ng-repeat="console in consoleList"> 
            <a data-ng-click="setSelectedConsole()">
              {{console.name}}
              <span data-ng-class="isChecked(console.id)"></span>
            </a>
          </li>
        </ul>
        <input class='searchBar' type='text' ng-model='search' placeholder='Find what you need here!' id='searchBar'/>
      </div>
      <div class='games' >
        <ul class='gamesList'>
          <li class='gamesListEntry' data-ng-repeat="game in filtered = (games | consoleFilter:selectedConsole) | filter:search | orderBy: 'title'" ng-cloak>
            <img data-ng-src="{{getIcon(game.console.id)}}" height='40px' width='40px'> 
            <a id='gameTitle' data-ng-click="getRom(game)">
              {{game.title}}
            </a>
            <!-- <div id='gameDescription' data-ng-click="getRom(game)">   -->
              <!-- {{game.description}} -->
            <!-- </div>   -->
<!--             <div>
              <img src="./img/infoicongray.png" id="infoButton" height="20px" width="20px"/>
            </div> -->
          </li>
        </ul>
      </div>
    </div>

    <!-- left side -->
    <div class='dragGameHere' id='dragGameHere'>
      <input type="file" id="chooser" class="chooser"/>
        <h1 id="dragHint1">Have a game?</h1>
        <h1 id="dragHint2">Drag it here!</h1>
    </div>

  </div>

  <!-- this is the Keyboard vs Mobile choice selection screen -->
  <div class="inputSelectionScreen" id="inputSelectionScreen" ng-controller="inputSelection">

    <!-- QR modal that appears when user selects play with mobile -->
    <div id="qrScreen" class="hidden" data-ng-click="closeQRScreen()">
      <div id="qrModal" class="modal" data-ng-click="$event.stopPropagation()">
          <div id="qrModalBody" class="modal-body"> 
            <div id="qrCode"></div>
            <h3 id="qrInstructions">Scan QR to Start</h3>
          </div>
      </div>
    </div>

    <!-- title text -->
    <div id="chooseYourControllerText1" data-ng-click="closeQRScreen()">
      Choose
      Your
      Controller
    </div>

    <!-- left side -->
    <div id="keyboardSide">
      <div id="keyboardIcon"></div>
      <div id='keyboardTitle'>Keyboard</div>
      <div id='keyboardDescription'>Desktop Only</div>
    </div>

    <!-- right side -->
    <div id="mobileSide">
      <div id="mobileIcon" data-ng-click="openQRScreen()"></div>
      <div id='mobileTitle'>Mobile Phone</div>
      <div id='mobileDescription'>Desktop + Phone</div>
    </div>
  </div>

  <!-- these are the overlay that is the emulator + the screen that appears on right click which pauses game and shows options -->
  <div id="overlay" class="overlay"></div>
  <div class="menu hidden screen" id="menu" ng-controller="pauseScreen">
    <input type="file" id="savechooser" class="chooser"/>
    <div class="options">
      <h1>Your game is paused.</h1>
      <button id="resume" class="resume">Resume</button>
      <button id="reset" class="reset">Reset Game</button>
      <button id="save" class="save">Save Game</button>
      <button id="load" class="load">Load Save</button>
      <button id="mute" class="mute">Mute</button>
      <button id="chooseNewGame" class="chooseNewGame" data-ng-click="chooseNewGame()">Choose A Different Game</button>
    </div>
    <div>
      <h1>Controls:</h1>
      <form id='keyMappingsForm'>
        A button: <input type="text" maxlength=0 id="aButton" placeholder="l">
        <br>
        B button: <input type="text" maxlength=0 id="bButton" placeholder="k">
        <br>
        X button: <input type="text" maxlength=0 id="xButton" placeholder="i">
        <br>
        Y button: <input type="text" maxlength=0 id="yButton" placeholder="j">
        <br>
        L shoulder: <input type="text" maxlength=0 id="lShoulder"placeholder="e">
        <br>
        R shoulder: <input type="text" maxlength=0 id="rShoulder"placeholder="u">
        <br>
        Start button: <input type="text" maxlength=0 id=" startButton" placeholder="enter">
        <br>
        Select button: <input type="text" maxlength=0 id="selectButton" placeholder="shift">
        <br>
        Up arrow: <input type="text" maxlength=0 id="upArrow" placeholder="w">
        <br>
        Down arrow: <input type="text" maxlength=0 id="downArrow"placeholder="s">
        <br>
        Left arrow: <input type="text" maxlength=0 id="leftArrow"placeholder="a">
        <br>
        Right arrow: <input type="text" maxlength=0 id="rightArrow" placeholder="d">
      </form> 
<!--       <div class="btn-group" data-ng-class="{open: open}" ng-cloak>
        <button class="btn dropdown-toggle" data-ng-click="open=!open">
          <span class='filterText' >Filter</span>
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
          <li data-ng-repeat="keyCode in keyCodes"> 
            <a data-ng-click="null">
              {{keyCode}}
              <span data-ng-class="isChecked(console.id)"></span>
            </a>
          </li>
        </ul>
      </div> -->


    </div>
  </div>

  <script src="./lib/node.js"></script>
  <script src="./server/server.js"></script>
  <script src="./server/router.js"></script>
  <script src="jspm_packages/github/jmcriffey/bower-traceur-runtime@0.0.91/traceur-runtime.min.js"></script>
  <script src="jspm_packages/system-csp-production.js"></script>
  <script src="config.js"></script>
  <script src="bootstrap.js"></script>

  <script src="lib/underscore-min.js"></script>
  <script src="lib/angular-min.js"></script>
  <script src="./lib/jquery-min.js"></script>
  <script src="./lib/qr-code.js"></script>

  <script src="./app.js"></script>
  <script src="./gamesList.js"></script>
  <script src="build.js"></script>

</body>
</html>
